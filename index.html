<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üìö Kiddo Book Stall</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
/* ---------------- BODY & GENERAL ---------------- */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
body { background: #0f0f1a; color: #fff; line-height: 1.5; overflow-x: hidden; }
a { text-decoration: none; color: inherit; }

/* ---------------- HEADER ---------------- */
header {
  background: linear-gradient(90deg,#ff6f61,#ffb347);
  text-align: center;
  padding: 25px 10px;
  border-bottom-left-radius: 30px;
  border-bottom-right-radius: 30px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}
header h1 { font-size: 28px; }
header p { font-size: 14px; color: #111; margin-top: 6px; }

/* ---------------- BOOK GRID ---------------- */
.book-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(160px,1fr));
  gap: 18px;
  padding: 20px;
  max-width: 1000px;
  margin: 20px auto;
}
.book-card {
  background: #1a1c2a;
  border-radius: 15px;
  overflow: hidden;
  padding: 12px;
  box-shadow: 0 4px 12px rgba(0,255,180,0.2);
  transition: transform 0.3s, box-shadow 0.3s;
}
.book-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 8px 20px rgba(0,255,180,0.4);
}
.book-card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 10px;
  margin-bottom: 8px;
}
.book-card h3 { font-size: 16px; margin-bottom: 4px; color: #00ffc0; }
.book-card p { font-size: 12px; color: #aaa; margin-bottom: 8px; }
.book-card a.download-btn {
  display: block;
  background: #00ffc0;
  color: #000;
  text-align: center;
  padding: 6px;
  border-radius: 20px;
  font-weight: 600;
  transition: background 0.2s;
}
.book-card a.download-btn:hover { background: #00b38f; }

/* ---------------- ADMIN PANEL ---------------- */
.admin-panel {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(15,15,26,0.98);
  z-index: 999;
  display: none;
  overflow-y: auto;
  padding: 20px;
}
.admin-panel.active { display: block; }
.admin-header {
  display: flex; justify-content: space-between; align-items: center;
  background: linear-gradient(90deg,#ff6f61,#ffb347);
  padding: 12px 20px; border-radius: 12px;
  margin-bottom: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
.admin-header h2 { font-size: 20px; color: #111; font-weight: 600; }
.admin-header button { background: #111; color: #fff; border: none; padding: 6px 12px; border-radius: 8px; cursor: pointer; }

/* ---------- DASHBOARD STATS ---------- */
.stats {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin-bottom: 20px;
}
.stat-card {
  flex: 1 1 150px;
  background: linear-gradient(135deg,#00ffc0,#00b38f);
  padding: 15px;
  border-radius: 12px;
  text-align: center;
  color: #111;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(0,255,180,0.2);
}
.stat-card h3 { font-size: 18px; margin-bottom: 5px; }
.stat-card p { font-size: 14px; }

/* ---------- BOOK MANAGEMENT ---------- */
.admin-section { margin-bottom: 25px; }
.admin-section h3 { margin-bottom: 12px; color: #ffb347; font-size: 16px; }
.admin-form input {
  width: calc(100% - 120px); padding: 8px; border-radius: 10px;
  border: none; margin-right: 8px; outline: none;
}
.admin-form button {
  padding: 8px 16px; border: none; border-radius: 10px;
  background: #00ffc0; color: #000; font-weight: 600; cursor: pointer;
}
.admin-book-list { display: flex; flex-direction: column; gap: 10px; }
.admin-book-item {
  background: #22233b; padding: 10px; border-radius: 10px;
  display: flex; justify-content: space-between; align-items: center;
}
.admin-book-item span { flex: 1; }
.admin-book-item button {
  background: #ff6f61; border: none; padding: 5px 10px; border-radius: 8px; cursor: pointer;
  color: #fff;
  transition: background 0.2s;
}
.admin-book-item button:hover { background: #ff3b2f; }

/* -------------- MOBILE FRIENDLY -------------- */
@media(max-width:600px){
  .book-card img { height: 160px; }
  header h1 { font-size: 22px; }
  .stats { flex-direction: column; }
}
</style>
</head>
<body>

<header>
  <h1>üìö Kiddo Book Stall</h1>
  <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶∏‡ßÅ‡¶≤ ‡¶¨‡ßá‡¶õ‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
</header>

<div class="book-grid" id="bookGrid">
  <!-- Dynamic Book Cards -->
</div>

<!-- Admin Panel -->
<div class="admin-panel" id="adminPanel">
  <div class="admin-header">
    <h2>Admin Dashboard</h2>
    <button id="closeAdmin">Close</button>
  </div>

  <!-- Stats -->
  <div class="stats">
    <div class="stat-card">
      <h3 id="totalBooks">0</h3>
      <p>Total Books</p>
    </div>
    <div class="stat-card">
      <h3 id="totalDownloads">0</h3>
      <p>Total Downloads</p>
    </div>
  </div>

  <!-- Add Book -->
  <div class="admin-section">
    <h3>Add New Book</h3>
    <form id="addBookForm" class="admin-form">
      <input type="text" placeholder="Book Title" required id="newBookTitle">
      <input type="url" placeholder="Drive Link" required id="newBookLink">
      <button type="submit">Add</button>
    </form>
  </div>

  <!-- Existing Books -->
  <div class="admin-section">
    <h3>Existing Books</h3>
    <div class="admin-book-list" id="adminBookList">
      <!-- Dynamic Admin Book Items -->
    </div>
  </div>
</div>

<script>
  // ----------------- INITIAL BOOK DATA -----------------
  let books = [
    {title:"üìó Capsule 1", link:"https://drive.google.com/uc?export=download&id=1364e2UqYcPFNo8rdICeEn01eYIxi4lkJ", downloads:0},
    {title:"üìò Capsule 2", link:"https://drive.google.com/uc?export=download&id=15YhW44ultCzrcAeV9FeG5XAAFCPRbG5s", downloads:0},
    {title:"üìô Capsule 3", link:"https://drive.google.com/uc?export=download&id=19w9xH7T3ysEq9TL0oz1OIBnTSLzxYQb1", downloads:0},
    {title:"üìï Capsule 4", link:"https://drive.google.com/uc?export=download&id=19HZzTPrDqpkwMhEtp3qPUmjAjW4l_FRn", downloads:0},
    {title:"üìí Capsule 5", link:"https://drive.google.com/uc?export=download&id=14WTRJWqXF883Wms-e97ubxBV7UibLMYL", downloads:0}
  ];

  const bookGrid = document.getElementById("bookGrid");
  const adminPanel = document.getElementById("adminPanel");
  const adminBookList = document.getElementById("adminBookList");
  const addBookForm = document.getElementById("addBookForm");
  const totalBooksEl = document.getElementById("totalBooks");
  const totalDownloadsEl = document.getElementById("totalDownloads");

  // ----------------- RENDER BOOKS -----------------
  function renderBooks(){
    bookGrid.innerHTML = '';
    books.forEach((book,i)=>{
      const card = document.createElement('div');
      card.className = 'book-card';
      card.innerHTML = `
        <img src="https://via.placeholder.com/150x200.png?text=${encodeURIComponent(book.title)}" alt="${book.title}">
        <h3>${book.title}</h3>
        <p>Click to download</p>
        <a href="${book.link}" class="download-btn" target="_blank" onclick="incrementDownload(${i})">Download</a>
      `;
      bookGrid.appendChild(card);
    });
  }

  // ----------------- DOWNLOAD COUNT -----------------
  function incrementDownload(index){
    books[index].downloads +=1;
    updateStats();
  }

  function updateStats(){
    totalBooksEl.innerText = books.length;
    let totalD = books.reduce((sum,b)=>sum+b.downloads,0);
    totalDownloadsEl.innerText = totalD;
  }

  // ----------------- ADMIN FUNCTIONS -----------------
  function renderAdminBooks(){
    adminBookList.innerHTML = '';
    books.forEach((book,i)=>{
      const item = document.createElement('div');
      item.className = 'admin-book-item';
      item.innerHTML = `
        <span>${book.title}</span>
        <button onclick="deleteBook(${i})">Delete</button>
      `;
      adminBookList.appendChild(item);
    });
  }

  function deleteBook(index){
    if(confirm("Are you sure you want to delete this book?")){
      books.splice(index,1);
      renderBooks();
      renderAdminBooks();
      updateStats();
    }
  }

  addBookForm.addEventListener('submit', function(e){
    e.preventDefault();
    const title = document.getElementById('newBookTitle').value.trim();
    const link = document.getElementById('newBookLink').value.trim();
    if(title && link){
      books.push({title, link, downloads:0});
      renderBooks();
      renderAdminBooks();
      updateStats();
      addBookForm.reset();
    }
  });

  // ----------------- ADMIN PANEL HIDDEN LOGIN -----------------
  let longPressTimer;
  document.body.addEventListener('mousedown', startPress);
  document.body.addEventListener('touchstart', startPress);
  document.body.addEventListener('mouseup', cancelPress);
  document.body.addEventListener('touchend', cancelPress);

  function startPress(){
    longPressTimer = setTimeout(()=>{
      const pwd = prompt("Enter Admin Password:");
      if(pwd==='kiddo'){
        adminPanel.classList.add('active');
        renderAdminBooks();
        updateStats();
      }
    },1000); // 1 second long press
  }

  function cancelPress(){
    clearTimeout(longPressTimer);
  }

  document.getElementById('closeAdmin').addEventListener('click',()=>{
    adminPanel.classList.remove('active');
  });

  // ----------------- INITIAL RENDER -----------------
  renderBooks();
  updateStats();
</script>

</body>
</html>
